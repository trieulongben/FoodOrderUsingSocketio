<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>F*** DEADLINE</title>
  </head>
  <body>
    <div class=" container-fluid" id="headerbar" style="background-color: #999576;">
    <h3 class=" text-center col-sm-12" style="font-size:30px;color:white;" >FOOD ORDER <button onclick="opencart()" class="fa fa-shopping-cart" background-position="justify" style="background-position: right ; font-size:24px"></button></i>
    </h3>
    </div>
    <div class="container">
      <h1 class="text-center" style="font-size:50px;color:#FFCC5E; font-style:oblique;padding :10px; background-color:#9EDAFF"> Main Dishes</h1>
        <div class="row" style="background-color: #CCBB37;  border-radius: 25px;">
          <div class="col-sm">
            <div class="text-center " >
            <img class="img-responsive img-thumbnail" src="https://upload.wikimedia.org/wikipedia/commons/b/b0/C%C6%A1m_T%E1%BA%A5m%2C_Da_Nang%2C_Vietnam.jpg">
            <p class="text-center" style="font-size:30px;font-style:oblique;color:ivory">Cơm</p>
            <button  class="btn btn-primary addbutton" name="addbutton" value=0>Đặt hàng</button>
          
            </div>
            
          </div>
          <div class="col-sm ">
            <div class="text-center " >
                <img class="img-responsive img-thumbnail" src="https://vnreview.vn/image/18/84/39/1884395.jpg">
                <p class="text-center"style="font-size:30px;font-style:oblique;color:ivory" >Cơm chó</p>
                <button  class="btn btn-primary addbutton" name="addbutton" value=2>Đặt hàng</button>
            </div>
          </div>
          <div class="col-sm ">
            <div class="text-center " >
            <img class="img-responsive img-thumbnail" style="max-height: 90%;" src="https://beptruong.edu.vn/wp-content/uploads/2016/01/soda-trai-cay-tuoi.jpg">
            <p class="text-center" style="font-size:30px;font-style:oblique;color:ivory">Tiết canh</p>
            <button  class="btn btn-primary addbutton" name="addbutton" value=4>Đặt hàng</button>
        </div>
          </div>
        </div>
      </div>
      <div class="text-center container" style="height: 30px;">
        
      </div>
      <div class="container" style="padding-top:10px;background-color:brown; border-radius: 25px;">
        <h1 class="text-center" style="font-size:50px;color:chocolate; font-style:oblique;padding :10px; background-color:antiquewhite"> The Special~</h1>
        <div class="row">
          <div class="col-sm">
            <div class="text-center " >
            <img class="img-responsive img-thumbnail" src="https://cdn.huongnghiepaau.com/wp-content/uploads/2018/07/com-ga-xoi-mo.jpg">
            <span class="a"><p class="text-center" style="font-size:30px;font-style:oblique;color:ivory">Thịt trộn</p>
            <button  class="btn btn-primary addbutton" name="addbutton" value=1>Đặt hàng</button></span>
            </div>
            
          </div>
          <div class="col-sm">
            <div class="text-center " >
                <img class="img-responsive img-thumbnail" src="https://anh.24h.com.vn/upload/3-2017/images/2017-07-28/1501242926-143857-cach-lam-bun-bo-hue-thom-ngon-hap-dan2-1.jpg">
                <span class="a"><p class="text-center"style="font-size:30px;font-style:oblique;color:ivory" >Bún</p>
                <button  class="btn btn-primary addbutton" name="addbutton"  value=3>Đặt hàng</button></span>
            </div>
          </div>
          <div class="col-sm">
            <div class="text-center " >
            <img class="img-responsive img-thumbnail" style="max-height: 90%;" src="https://cdn.tgdd.vn/Files/2020/02/05/1234603/3-cach-lam-nuoc-ep-dua-leo-dua-chuot-giam-can-khong-can-may-ep-1.jpg">
            <span class="a"><p class="text-center" style="font-size:30px;font-style:oblique;color:ivory">Nước dưa leo</p>
            <button  class="btn btn-primary addbutton"  name="addbutton" value=5>Đặt hàng</button></span>
        </div>
          </div>
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.1/socket.io.js" integrity="sha512-vGcPDqyonHb0c11UofnOKdSAt5zYRpKI4ow+v6hat4i96b7nHSn8PQyk0sT5L9RECyksp+SztCPP6bqeeGaRKg==" crossorigin="anonymous"></script>
    <script>
        var socket = io();
        socket.on('connect', () => {
            console.log("connected server");
        })
    </script>
  </body>
</html>
<style>
    span {
        display:flexbox;
        
    }
    .popup {
  display: none;
  position: fixed;
  bottom: 0;
  right: 15px;
  border: 3px solid #f1f1f1;
  z-index: 9;
  border-radius: 5px;
  border-color:brown;
}
</style>

<div class="popup" id="popup">
  <form id="order" >
    <div class="form-group">
      <label for="Name">Name</label>
      <input type="text" class="form-control" id="name" aria-describedby="Fullname" placeholder="Enter Full Name">
    </div>
    <div class="form-group">
      <label for="PhoneNumber">Phone Number</label>
      <input type="text" class="form-control" id="phone" placeholder="Phone number">
    </div>
    <div class="form-group">
      <label for="Address">Address</label>
      <input type="text" class="form-control"id="address" placeholder="Address">
    </div>
  </form>
  <ul id="Cartlist"> Order List
  </ul>
  <button type="submit" onclick="Getdata()" id="Savebutton">Save</button>
  <button id="FormbSavebuttonutton"> Close</button>
</div>

      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="Javascript.js"></script>
    </body>
  </html>
  </div>

<script>
var foodlist=[
{"name":"mi","value":0,"baseprice":30},
{"name":"mi2","value":0,"baseprice":20},
{"name":"com","value":0,"baseprice":40},
{"name":"com2","value":0,"baseprice":50},
{"name":"soda","value":0,"baseprice":60},
{"name":"nuoc","value":0,"baseprice":60}]
var information={};
var data={};
var price=0;
var total;
var jsonString;
function Getdata(){

    var name=document.getElementById("name").value;
    var phone=document.getElementById("phone").value;
    var address=document.getElementById("address").value;
    information={"name":name,"phone":phone,"address":address};
    
  data={information,"food":{foodlist}};
  console.log(JSON.stringify(data));
}


function opencart() {
    document.getElementById("popup").style.display = "block";
  }
  
  function closecart() {
    document.getElementById("popup").style.display = "none";
  }

function clearlist(){
  document.getElementById("Cartlist").innerHTML="";
}
function updatePrice(){
  price=0;
  for(var i=0;i<foodlist.length;i++){
    if(foodlist[i]["value"]>=1){
  price+=foodlist[i]["value"]*foodlist[i]["baseprice"];
  
    }}
}
function Send(){
  data=JSON.stringify(foodlist);
  xmlhttp= new XMLHttpRequest();
  xmlhttp.onreadystatechange=function(){
    if(this.readyState==4 && this.status==200){

    }
  }
}
/*
function updateTotalPrice(){
  for (var i=0;i<foodlist.length;i++)
  {
    if(foodlist[i]["value"]>=1){
  price += foodlist[i]["baseprice"]*foodlist[i]["value"];
  var template2=document.createElement("p");    
  var liss="Total price :" + price;
  template2.innerText=liss;
  document.getElementById("Cartlist").appendChild(template2);
}}}
*/
function Listshow(){
  clearlist();
    var myEl =document.getElementsByClassName('addbutton');
    
  for(var i=0;i<foodlist.length;i++){
    if(foodlist[i]["value"]>=1){
    var template= document.createElement("li");
    var y="Food:" +""+foodlist[i]["name"]+ ""+"Amount"+" " + foodlist[i]["value"] +"Price=" + (foodlist[i]["value"]*foodlist[i]["baseprice"]);
    template.innerText=y;
    document.getElementById('Cartlist').appendChild(template);


    }
  }

  console.log(total);
  }

function additem(){
    var lisorder=[];
    var myEl =document.getElementsByClassName('addbutton');
    for (let i=0;i<myEl.length;i++){
        myEl[i].addEventListener("click",function(){
          var x= myEl[i].value;
          foodlist[x]["value"]++;
          updatePrice();
                Listshow();
                var template2=document.createElement("p");    
                var liss="Total price :" + price;
                template2.innerText=liss;
                document.getElementById("Cartlist").appendChild(template2);
                
    
      });
      }

 
    }
additem();

/* Button saveorder to json */

/*

    $(document).ready(function(){
        $("#addbutton").click(function(){ 
            var x= $("#addbutton").value();
            console.log(x);
            lisorder.push(lisorder);
            console.log(json.stringtify(lisorder));
            Listshow(lisorder);

})
})
}
*/

/*!
$(document).ready(function(){
  $("button").click(function(){
    var x = $("form").serializeArray();
    var returnArray = {};
    for (var i = 0; i < x.length; i++){
        returnArray[x[i]['name']] = x[i]['value'];
    }
    console.log(returnArray);
  });
});
*/



</script>

 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.Submit').onclick = () => {
                var  user = document.querySelector('.name').value;
                var pass = document.querySelector('.password').value;
            };
        });
    </script>
</head>
<body>
    <h1>Customer</h1>
    <div class="buyer">
        <input type="text" class="name">username
        <input type="password" class="password">Password
        <button class="Submit">Submit</button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.1/socket.io.js" integrity="sha512-vGcPDqyonHb0c11UofnOKdSAt5zYRpKI4ow+v6hat4i96b7nHSn8PQyk0sT5L9RECyksp+SztCPP6bqeeGaRKg==" crossorigin="anonymous"></script>
    <script>
        var socket = io();
        socket.on('connect', () => {
            console.log("connected server");
        })
        /* function gửi data */
        function senddata(){
          socket.emit(
            'Data',data)
        }
        document.addEventListener('DOMContentLoaded', function () {
				document.querySelector('.buyer').onsubmit = function (
					e
				) {
					e.preventDefault();
					socket.emit(
						'Submit',
						username,
						document.getElementByClass("name").value
					);
					document.getElementByClass("name").value = '';
					console.log('Get Name customer');
				};
			});

			socket.on('connect', () => {
				console.log('Connected !');
			});
    </script>
</body>
</html>
